<html>
<head>
<!--    <script src="./node_modules/socket.io/dist/client.js"></script> -->
    <script src="/socket.io/socket.io.js"></script>
</head>
<body>
    <div>hello world!</div>
    <button id="play_btn">play</button>


    <select name="song" id="song-select">
        <option value="">--select track--</option>
        <option value="one">one</option>
        <option value="two">two</option>
        <option value="three">three</option>
        <option value="four">four</option>
    </select>
    
    <div>
        <input type="range" id="volume" name="volume"
               min="0" max="100">
        <label for="volume">Volume</label>
      </div>

    <script>
        var socket = io();   
        
        // receiving messages
        socket.on('msg', (buf) => {
            console.log(buf);
        })

        // send messages on events
        let btn = document.getElementById('play_btn');
        btn.addEventListener('click', () => {
            socket.emit('msg', {
                play: 'bang'
            })
        })

        let volume = document.getElementById('volume');
        volume.addEventListener('input', () => {
//            console.log('volume', volume.value)
            socket.emit('msg', {
                vol: parseFloat(volume.value) / 100.
            })
        })

        let selector = document.getElementById('song-select');
        selector.addEventListener('change', () => {
            console.log('selector', selector.value)
            socket.emit('msg', {
                select: selector.value
            })
        })

    </script>
</body>
</html>